<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&family=Rufina:wght@400;700&display=swap"; rel="stylesheet">
    <script defer src="script.js"></script> 
    
</head>
<body>
<div class="main">
    <div id="content">
        <div id="hero" style="background-image: url('pics/greenbubble.jpg');">
            <div class="shader">
                <h1>Green Statistic AB</h1>
                <h4>The green way forward</h4>
            </div>  
        </div>

        <div id="central">
            <div class="search-container">
                <div class="search">
                    <input type="text" class="searchTerm" placeholder="Search...">
                    <button type="submit" class="searchButton">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
            

            <div class="slideshow-container">
                <h1>Top Movies of All Time</h1>
                <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left" href="pp.html">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div>
                <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left" href="pp.html">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div> <div class="mySlides movie-slide fade">
                    <div class="slide-boxes">
                        <button class="box box-left">
                            <h2 class="movie-title">Shawshank </h2>
                            <p class="movie-year">1994</p>
                        </button>
                        <button class="box box-left" href>
                            <h2 class="movie-title">Shawshank Redemption</h2>
                            <p class="movie-year">1994</p>
                        </button>
                    </div>
                </div>
                <button class="prev" onclick="plusSlides(-1, 'movie')">&#10094;</button>
                <button class="next" onclick="plusSlides(1, 'movie')">&#10095;</button>
            </div>
            
            <div id="stats">
                <div class="slider-container">
                    <div class="slider-group">
                        <label for="slider1">Movie Amount</label>
                        <div class="slider-wrapper">
                            <span class="slider-min">0</span>
                            <input type="range" class="slider" id="slider1" min="0" max="250" value="250">
                            <span class="slider-max">250</span>
                            <span class="slider-value" id="slider1Value">250</span>
                        </div>
                    </div>

                    <div class="slider-group">
                        <label for="slider2">Max Release Year</label>
                        <div class="slider-wrapper">
                            <span class="slider-min">1930</span>
                            <input type="range" class="slider" id="slider2" min="1930" max="2025" value="2025">
                            <span class="slider-max">2025</span>
                            <span class="slider-value" id="slider2Value">2025</span>
                        </div>
                    </div>
                
                    <div class="filter-info">
                        <p>Showing: <span id="currentCount">0</span>/<span id="totalCount">0</span> movies</p>
                        <p>Filtered Movies: <span id="filterCount">0</span> matches</p>
                    </div>
                </div>

                <div class="content">
                    <h2>Movie List</h2>
                    <div id="moviesList"></div> 
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-description">
                 <h3>Social Media</h3>
                     <div class="certific">
                        <a href="https://www.instagram.com"> <img src="pics/instagram.png" alt="instagram"></a>
                        <a href="https://x.com"> <img src="pics/twitter.png" alt="twitter"></a>
                        <a href="https://www.facebook.com"> <img src="pics/facebook.png" alt="facebook"></a>
                    </div>
            </div>
            <div class="footer-contact">
                <h3>Contact Us</h3>
                <a href="kontakt.html" class="contact-button">Here!</a>
            </div>
            <div class="footer-policy">
                <a href="policy.html">Integrtity policy</a>
             </div>  
             <div class="copyright"><h4>â’¸ 2025 Green Statistic AB. All rights reserved.</h4></div>  
        </footer> 
    </div>
<script>

let slideIndexes = {
    movie: 1,
    actor: 1
};

// Load movie data and initialize slides
fetch('movies.json')
    .then(response => response.json())
    .then(movies => {
        // Flatten the array in case movies.json has nested arrays
        const allMovies = movies.flat();
        
        // Filter out invalid entries (like the "Never Gonna Give you Up" one with null rating)
        const validMovies = allMovies.filter(movie => movie.rating && movie.title && movie.year);
        
        // Shuffle the movies array
        const shuffledMovies = shuffleArray([...validMovies]);
        
        // Get all slide containers
        const slides = document.getElementsByClassName('movie-slide');
        
        // Distribute movies to slides (2 per slide)
        for (let i = 0; i < slides.length; i++) {
            const slide = slides[i];
            const boxes = slide.querySelectorAll('.box');
            
            // Get two movies for this slide
            const movie1 = shuffledMovies[i * 2];
            const movie2 = shuffledMovies[i * 2 + 1];
            
            if (movie1) {
                boxes[0].innerHTML = `
                    <h2 class="movie-title">${movie1.title}</h2>
                    <p class="movie-year">${movie1.year}</p>
                `;
            }
            
            if (movie2) {
                boxes[1].innerHTML = `
                    <h2 class="movie-title">${movie2.title}</h2>
                    <p class="movie-year">${movie2.year}</p>
                `;
            }
        }
        
        // Initialize slideshow
        showSlides(1, "movie");
    })
    .catch(error => console.error('Error loading movies:', error));

// Fisher-Yates shuffle algorithm
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function plusSlides(n, carousel) {
    showSlides(slideIndexes[carousel] += n, carousel);
}

function showSlides(n, carousel) {
    let slides = document.getElementsByClassName(carousel + "-slide");
    if (n > slides.length) { slideIndexes[carousel] = 1; }
    if (n < 1) { slideIndexes[carousel] = slides.length; }
    
    for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    slides[slideIndexes[carousel] - 1].style.display = "block";
}
</script>
</body>
</html>